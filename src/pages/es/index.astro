---
import MainLayout from '../../layouts/MainLayout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils.js';
import Header from '../../components/layout/navigation/Header.astro';
import NewHeroSection from '../../components/sections/NewHeroSection.astro';
import Footer from '../../components/layout/Footer.astro';
import WhatIsDesciSection from '../../components/sections/WhatIsDesciSection.astro';
import ForWhoSection from '../../components/sections/ForWhoSection.astro';
import ResearchFeaturesSection from '../../components/sections/ResearchFeaturesSection.astro';
import EcosystemPreviewSection from '../../components/sections/EcosystemPreviewSection.astro';
import ResearchHighlightsSection from '../../components/sections/ResearchHighlightsSection.astro';
import ResourcesSection from '../../components/sections/ResourcesSection.astro';
import MissionVisionSection from '../../components/sections/MissionVisionSection.astro';
import CommunitySection from '../../components/sections/CommunitySection.astro';
import NewsletterCTASection from '../../components/sections/NewsletterCTASection.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<MainLayout title={t('home.title')} description={t('home.description')}>
  <div class="relative overflow-hidden">
    <!-- Fondo con círculos borrosos para efecto de glassmorfismo -->
    <div class="absolute inset-0 overflow-hidden -z-10">
      <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary/20 rounded-full filter blur-3xl"></div>
      <div class="absolute bottom-1/3 right-1/4 w-80 h-80 bg-secondary/20 rounded-full filter blur-3xl"></div>
      <div class="absolute top-1/3 right-1/3 w-64 h-64 bg-accent-yellow/10 rounded-full filter blur-3xl"></div>
      <div class="bg-grid absolute inset-0 opacity-30"></div>
    </div>
    
    <!-- Nuevo Header Modular -->
    <Header />
    
    <main>
      <!-- Hero Section -->
      <NewHeroSection />
      
      <!-- ¿Qué es DeSci? Section -->
      <div id="que-es-desci">
        <WhatIsDesciSection />
      </div>
      
      <!-- Para Quién es Esto Section -->
      <div id="encuentra-tu-camino">
        <ForWhoSection />
      </div>
      
      <!-- Características DeSci -->
      <!-- <ResearchFeaturesSection /> -->

      <!-- Ecosystem Preview - Explora el Ecosistema DeSci -->
      <!-- <EcosystemPreviewSection /> -->

      <!-- Research Highlights - Nuestras Contribuciones de Investigación -->
      <!-- <ResearchHighlightsSection /> -->

      <!-- Resources Section -->
      <div id="recursos">
        <ResourcesSection />
      </div>

      <!-- Mission and Vision Section -->
      <div id="nosotros">
        <MissionVisionSection />
      </div>

      <!-- Community Section - Comunidad Global -->
      <!-- <CommunitySection /> -->
      
      <!-- Newsletter CTA -->
      <div id="contacto">
        <NewsletterCTASection />
      </div>
    </main>
    
    <Footer />
  </div>
</MainLayout>