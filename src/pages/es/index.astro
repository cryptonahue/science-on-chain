---
import MainLayout from '../../layouts/MainLayout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import Header from '../../components/navigation/Header.astro';
import NewHeroSection from '../../components/NewHeroSection.astro';
import Footer from '../../components/Footer.astro';
import WhatIsDesciSection from '../../components/WhatIsDesciSection.astro';
import ForWhoSection from '../../components/ForWhoSection.astro';
import ResearchFeaturesSection from '../../components/ResearchFeaturesSection.astro';
import EcosystemPreviewSection from '../../components/EcosystemPreviewSection.astro';
import ResearchHighlightsSection from '../../components/ResearchHighlightsSection.astro';
import CommunitySection from '../../components/CommunitySection.astro';
import NewsletterCTASection from '../../components/NewsletterCTASection.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<MainLayout title={t('home.title')} description={t('home.description')}>
  <div class="relative overflow-hidden">
    <!-- Fondo con círculos borrosos para efecto de glassmorfismo -->
    <div class="absolute inset-0 overflow-hidden -z-10">
      <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary/20 rounded-full filter blur-3xl"></div>
      <div class="absolute bottom-1/3 right-1/4 w-80 h-80 bg-secondary/20 rounded-full filter blur-3xl"></div>
      <div class="absolute top-1/3 right-1/3 w-64 h-64 bg-accent-yellow/10 rounded-full filter blur-3xl"></div>
      <div class="bg-grid absolute inset-0 opacity-30"></div>
    </div>
    
    <!-- Nuevo Header Modular -->
    <Header />
    
    <main>
      <!-- Hero Section -->
      <NewHeroSection />
      
      <!-- ¿Qué es DeSci? Section -->
      <WhatIsDesciSection />
      
      <!-- Para Quién es Esto Section -->
      <ForWhoSection />
      
      <!-- Características DeSci -->
      <ResearchFeaturesSection />
      
      <!-- Ecosystem Preview -->
      <EcosystemPreviewSection />
      
      <!-- Research Highlights -->
      <ResearchHighlightsSection />
      
      <!-- Community Section -->
      <CommunitySection />
      
      <!-- Newsletter CTA -->
      <NewsletterCTASection />
    </main>
    
    <Footer />
  </div>
</MainLayout>