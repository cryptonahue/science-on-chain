---
interface Props {
  title: string;
  description: string;
  icon: string;
  colorClass?: string;
  colSpan?: string;
  rowSpan?: string;
  highlight?: boolean;
  index?: string;
}

const { 
  title, 
  description, 
  icon, 
  colorClass = "bg-white",
  colSpan = "col-span-12 md:col-span-6 lg:col-span-4", 
  rowSpan = "row-span-1",
  highlight = false,
  index = ""
} = Astro.props;

// Mapeamos iconos comunes a sus SVG paths
const iconPaths = {
  'network': 'M9 17H5a2 2 0 000 4h4a2 2 0 000-4zm0 0V9.5m0 7.5h6m0 0h4a2 2 0 000-4h-4a2 2 0 000 4zm0 0V9.5m-6-3V4a2 2 0 114 0v2.5M9 6.5h6',
  'lock-open': 'M8 11V7a4 4 0 118 0m-4 8v2m-6-4h12a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2v-6a2 2 0 012-2z',
  'leaf': 'M5 21c.36-4.29 3.54-7.36 7.88-7.85.33-.04.59-.31.59-.65V4a1 1 0 0 1 1-1c6 0 9 7 9 10a9 9 0 0 1-9 9h-2c-2.96 0-5.43-1.67-6.59-4h.59c.36 0 .71-.1 1.01-.32.51-.34.57-1.09.1-1.49A7.43 7.43 0 0 1 5 11.86V21z',
  'copy': 'M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2',
  'globe': 'M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9',
  'beaker': 'M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z',
  'lightning': 'M13 10V3L4 14h7v7l9-11h-7z',
  'cloud': 'M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z',
  'chip': 'M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z',
  'document': 'M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z',
  'chart': 'M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z',
};
---

<div class={`${colSpan} ${rowSpan} ${highlight ? 'z-10' : ''}`}>
  <!-- Card inspirada en Gitcoin - mÃ¡s moderna y con mejor contraste -->
  <div class={`group relative h-full w-full rounded-lg ${highlight ? 'p-8' : 'p-6'} border border-gray-100 ${colorClass} transition-all duration-300 ${highlight ? 'hover:shadow-xl' : 'hover:shadow-lg hover:-translate-y-1'}`}>
    {index && (
      <div class="absolute top-4 right-4 text-xs font-bold text-primary-dark/40">{index}</div>
    )}
    
    <!-- Icon -->
    <div class={`mb-5 ${highlight ? 'mb-6' : ''}`}>
      <div class={`inline-flex items-center justify-center rounded-lg p-3 ${highlight ? 'bg-primary/15' : 'bg-primary/10'}`}>
        <svg xmlns="http://www.w3.org/2000/svg" class={`${highlight ? 'h-8 w-8' : 'h-6 w-6'} text-primary-dark`} fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d={iconPaths[icon]} />
        </svg>
      </div>
    </div>
    
    <!-- Content -->
    <h3 class={`${highlight ? 'mb-4' : 'mb-3'} group-hover:text-primary-dark transition-colors duration-300 font-merriweather font-bold`}>
      {highlight ? (
        <div class="text-2xl text-primary-dark">{title}</div>
      ) : (
        <div class="text-xl text-foreground">{title}</div>
      )}
    </h3>
    <p class={`${highlight ? 'text-lg' : 'text-base'} text-foreground/70 leading-relaxed`}>
      {description}
    </p>
  </div>
</div>